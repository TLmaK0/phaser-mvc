(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 */
Object.defineProperty(exports, "__esModule", { value: true });
var Phaser = __webpack_require__(4);
var rxjs_1 = __webpack_require__(1);
var guid_1 = __webpack_require__(5);
/** Bootstrap for the phaser-mvc.
 * Useage:
 * import { FrameController } from 'phaser-mvc';
 * import { LandEditorController } from 'phaser-mvc';
 * window.onload = () => {
 * const boot = new Bootstrap();
 * boot.addController('FrameController', FrameController);
 */
var Bootstrap = /** @class */ (function () {
    function Bootstrap(width, height) {
        if (width === void 0) { width = 1920; }
        if (height === void 0) { height = 1080; }
        var _this = this;
        this.width = width;
        this.height = height;
        this.controllers = {};
        this.preload = function () {
            for (var _i = 0, _a = Bootstrap.preloadComponents; _i < _a.length; _i++) {
                var preload = _a[_i];
                preload(_this.game);
            }
        };
        this.create = function () {
            _this.worldCustomizations();
            _this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
            _this.goTo(_this.startAction[0], _this.startAction[1], _this.startAction[2]);
            Bootstrap.onInit.next(_this);
            Bootstrap.onInit.complete();
        };
        this.update = function () {
            for (var _i = 0, _a = Object.keys(_this.controllers); _i < _a.length; _i++) {
                var controllerName = _a[_i];
                _this.updateController(_this.controllers[controllerName]);
            }
        };
    }
    Bootstrap.preload = function (preload) {
        Bootstrap.preloadComponents.push(preload);
    };
    Bootstrap.prototype.start = function (controllerName, controllerAction, params) {
        this.startAction = [controllerName, controllerAction, params];
        this.game = new Phaser.Game(this.width, this.height, Phaser.CANVAS, 'content', { preload: this.preload,
            create: this.create,
            update: this.update });
    };
    Bootstrap.prototype.worldCustomizations = function () {
        this.game.physics.startSystem(Phaser.Physics.P2JS);
        this.worldMaterial = this.game.physics.p2.createMaterial('worldMaterial');
        Bootstrap.worldMaterialOptions = {
            restitution: 0
        };
        this.game.physics.p2.setWorldMaterial(this.worldMaterial, true, true, true, true);
        this.game.physics.p2.gravity.y = 100;
    };
    Bootstrap.prototype.createBody = function (body) {
        var physicBody = new Phaser.Physics.P2.Body(this.game, this.game.add.sprite(0, 0, null), body.x, body.y, body.mass);
        physicBody.velocity.x = body.velocity[0];
        physicBody.velocity.y = body.velocity[1];
        physicBody.angle = body.angle;
        var material = this.game.physics.p2.createMaterial(guid_1.Guid.newGuid(), physicBody);
        var options = body.getPhysicsConfiguration();
        this.generateContacts(material, options.material);
        return physicBody;
    };
    Bootstrap.prototype.generateContacts = function (material, options) {
        var contactOptions = {};
        for (var key in options) {
            contactOptions[key] = Bootstrap.worldMaterialOptions[key] + options[key];
        }
        var contactMaterial = this.game.physics.p2.createContactMaterial(material, this.worldMaterial, contactOptions);
    };
    Bootstrap.prototype.addController = function (name, controllerType) {
        if (this.controllers[name] != null)
            throw EvalError("Controller " + name + " already registered.");
        var controller = new controllerType();
        controller.bootstrap = this;
        this.controllers[name] = controller;
    };
    Bootstrap.prototype.goTo = function (controllerName, controllerAction, params) {
        /*tslint:disable:no-any*/
        var controller = this.controllers[controllerName];
        /*tslint:enable:no-any*/
        if (!controller) {
            throw EvalError("Controller " + controllerName + " not exist. Be sure you load it in bootstrap.");
        }
        /*tslint:disable:no-unsafe-any*/
        controller[controllerAction](params);
        /*tslint:enable:no-unsafe-any*/
    };
    Bootstrap.prototype.updateController = function (controller) {
        for (var _i = 0, _a = Object.keys(controller.views); _i < _a.length; _i++) {
            var viewName = _a[_i];
            controller.getView(viewName).updateView();
        }
    };
    Bootstrap.preloadComponents = [];
    Bootstrap.onInit = new rxjs_1.AsyncSubject();
    Bootstrap.worldMaterialOptions = {};
    return Bootstrap;
}());
exports.Bootstrap = Bootstrap;


/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = require("@reactivex/rxjs");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var watch_model_1 = __webpack_require__(8);
var rxjs_1 = __webpack_require__(1);
var _ = __webpack_require__(9);
var WatchFactory = /** @class */ (function () {
    function WatchFactory() {
        this.watchsModel = [];
    }
    WatchFactory.prototype.create = function (getModel) {
        var watchModel = new watch_model_1.WatchModel();
        watchModel.observable = rxjs_1.Observable.create(function (observer) { return watchModel.observer = observer; }).map(function (model) { return _.cloneDeep(model); }).distinctUntilChanged(function (prev, next) { return _.isEqual(prev, next); });
        watchModel.getModel = getModel;
        this.watchsModel.push(watchModel);
        return watchModel.observable;
    };
    return WatchFactory;
}());
exports.WatchFactory = WatchFactory;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var bootstrap_1 = __webpack_require__(0);
exports.Bootstrap = bootstrap_1.Bootstrap;
var controller_1 = __webpack_require__(6);
exports.Controller = controller_1.Controller;
var view_1 = __webpack_require__(7);
exports.View = view_1.View;
exports.ViewComponent = view_1.ViewComponent;
var watch_factory_1 = __webpack_require__(2);
exports.WatchFactory = watch_factory_1.WatchFactory;
var physic_body_1 = __webpack_require__(10);
exports.PhysicBody = physic_body_1.PhysicBody;


/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = require("phaser-ce");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Guid = /** @class */ (function () {
    function Guid() {
    }
    Guid.newGuid = function () {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    };
    return Guid;
}());
exports.Guid = Guid;


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Controller accepts input from view and converts modifieds the model.
 */
var Controller = /** @class */ (function () {
    function Controller() {
        var _this = this;
        this.views = {};
        this.model = {};
        this.goTo = function (controllerName, controllerAction, params) {
            _this.bootstrap.goTo(controllerName, controllerAction, params);
        };
    }
    Object.defineProperty(Controller.prototype, "game", {
        get: function () {
            return this.bootstrap.game;
        },
        enumerable: true,
        configurable: true
    });
    Controller.prototype.getView = function (viewName) {
        var view = this.views[viewName];
        if (view == null) {
            throw EvalError("View " + viewName + " not exist. Be sure you have added it to your controller.");
        }
        return view;
    };
    Controller.prototype.render = function (view) {
        view.init(this.game, this.model, this.goTo);
    };
    Controller.prototype.refresh = function (view) {
        view.refresh();
    };
    return Controller;
}());
exports.Controller = Controller;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var watch_factory_1 = __webpack_require__(2);
/**
 * Adds a component to the view and other view components
 */
var ViewComponentAdder = /** @class */ (function () {
    function ViewComponentAdder(components, view) {
        this.components = components;
        this.view = view;
    }
    ViewComponentAdder.prototype.addComponent = function (component) {
        this.components.push(component);
        component.createComponent(this, this.view);
        return component;
    };
    return ViewComponentAdder;
}());
exports.ViewComponentAdder = ViewComponentAdder;
/**
 * Input and ouput for the application
 */
var View = /** @class */ (function () {
    function View() {
        this.components = [];
        this.initiated = false;
        this.watchFactory = new watch_factory_1.WatchFactory();
    }
    View.prototype.refresh = function () {
        //empty, can be overrided or not
    };
    View.prototype.create = function (_componentAdder) {
        //empty, can be overrided or not
    };
    View.prototype.preload = function () {
        //empty, can be overrided or not
    };
    View.prototype.update = function () {
        //empty, can be overrided or not
    };
    View.prototype.init = function (game, model, goTo) {
        if (!this.initiated) {
            this._game = game;
            this._model = model;
            this._goTo = goTo;
            this.createView();
            this.initiated = true;
        }
    };
    Object.defineProperty(View.prototype, "game", {
        get: function () { return this._game; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(View.prototype, "model", {
        get: function () { return this._model; },
        enumerable: true,
        configurable: true
    });
    View.prototype.createView = function () {
        var componentAdder = new ViewComponentAdder(this.components, this);
        this.create(componentAdder);
        this.updateOnModelChange(this.watchFactory);
    };
    View.prototype.updateView = function () {
        if (!this.initiated)
            return;
        this.checkWatchModels();
        this.update();
        for (var _i = 0, _a = this.components; _i < _a.length; _i++) {
            var component = _a[_i];
            component.updateComponent();
        }
    };
    View.prototype.refreshView = function () {
        if (!this.initiated)
            throw EvalError('View is not rendered please render it before refresh.');
        this.refresh();
    };
    View.prototype.updateOnModelChange = function (_watchFactory) {
        //this should be overrided or not
    };
    View.prototype.checkWatchModels = function () {
        for (var _i = 0, _a = this.watchFactory.watchsModel; _i < _a.length; _i++) {
            var watchModel = _a[_i];
            watchModel.observer.next(watchModel.getModel());
        }
    };
    View.prototype.goTo = function (controllerName, controllerAction, params) {
        this._goTo(controllerName, controllerAction, params);
    };
    return View;
}());
exports.View = View;
/**
 * Component to be showed in view
 */
var ViewComponent = /** @class */ (function () {
    function ViewComponent() {
        this.components = [];
    }
    ViewComponent.prototype.create = function (_componentAdder) {
        //empty, can be overrided or not
    };
    ViewComponent.prototype.update = function () {
        //empty, can be overrided or not
    };
    ViewComponent.prototype.createComponent = function (componentAdder, view) {
        this.view = view;
        this.create(componentAdder);
        for (var _i = 0, _a = this.components; _i < _a.length; _i++) {
            var component = _a[_i];
            component.createComponent(componentAdder, view);
        }
    };
    ViewComponent.prototype.updateComponent = function () {
        this.update();
        for (var _i = 0, _a = this.components; _i < _a.length; _i++) {
            var component = _a[_i];
            component.updateComponent();
        }
    };
    Object.defineProperty(ViewComponent.prototype, "game", {
        get: function () {
            return this.view.game;
        },
        enumerable: true,
        configurable: true
    });
    return ViewComponent;
}());
exports.ViewComponent = ViewComponent;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var WatchModel = /** @class */ (function () {
    function WatchModel() {
    }
    return WatchModel;
}());
exports.WatchModel = WatchModel;


/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var bootstrap_1 = __webpack_require__(0);
var body_property_1 = __webpack_require__(11);
var PhysicBody = /** @class */ (function () {
    function PhysicBody() {
        this.x = 0;
        this.y = 0;
        this.angle = 0;
        this.velocity = [0, 0];
        this.mass = 1;
        this.physics = {};
        bootstrap_1.Bootstrap.onInit.subscribe(this.onBootstrapInit.bind(this));
    }
    PhysicBody.prototype.createBody = function (body) {
    };
    PhysicBody.prototype.onBootstrapInit = function (bootstrap) {
        this.body = bootstrap.createBody(this);
        var propertyClass = this;
        for (var _i = 0, _a = propertyClass['bodyProperties']; _i < _a.length; _i++) {
            var property = _a[_i];
            propertyClass['get' + property] = propertyClass['getBody' + property];
            propertyClass['set' + property] = propertyClass['setBody' + property];
        }
        this.createBody(this.body);
    };
    PhysicBody.prototype.getPhysicsConfiguration = function () {
        return this.physics;
    };
    __decorate([
        body_property_1.BodyProperty
    ], PhysicBody.prototype, "x", void 0);
    __decorate([
        body_property_1.BodyProperty
    ], PhysicBody.prototype, "y", void 0);
    __decorate([
        body_property_1.BodyProperty
    ], PhysicBody.prototype, "angle", void 0);
    __decorate([
        body_property_1.BodyProperty
    ], PhysicBody.prototype, "velocity", void 0);
    __decorate([
        body_property_1.BodyProperty
    ], PhysicBody.prototype, "mass", void 0);
    return PhysicBody;
}());
exports.PhysicBody = PhysicBody;


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function BodyProperty(target, key) {
    if (!target['bodyProperties'])
        target['bodyProperties'] = [];
    var privateKey = "_" + key;
    var upperKey = key.toUpperCase();
    var getKey = "get" + upperKey;
    var setKey = "set" + upperKey;
    var getBodyKey = "getBody" + upperKey;
    var setBodyKey = "setBody" + upperKey;
    target[getKey] = function () {
        return this[privateKey];
    };
    target[setKey] = function (value) {
        this[privateKey] = value;
    };
    target[getBodyKey] = function () {
        return this['body'][key];
    };
    target[setBodyKey] = function (value) {
        this['body'][key] = value;
    };
    function getter() {
        return this[getKey]();
    }
    function setter(value) {
        this[setKey](value);
    }
    Object.defineProperty(target, key, {
        get: getter,
        set: setter,
        enumerable: true,
        configurable: true
    });
    target['bodyProperties'].push(upperKey);
}
exports.BodyProperty = BodyProperty;


/***/ })
/******/ ])));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZmNiNzc1ZjFmNTY3OWI4ZDBiMDYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jvb3RzdHJhcC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAcmVhY3RpdmV4L3J4anNcIiIsIndlYnBhY2s6Ly8vLi9zcmMvd2F0Y2hfZmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGhhc2VyLWNlXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2d1aWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dhdGNoX21vZGVsLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImxvZGFzaFwiIiwid2VicGFjazovLy8uL3NyYy9waHlzaWNfYm9keS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYm9keV9wcm9wZXJ0eS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7OztBQzdEQTtHQUNHOztBQUVILG9DQUFvQztBQUNwQyxvQ0FBK0M7QUFNL0Msb0NBQThCO0FBRTlCOzs7Ozs7O0dBT0c7QUFFSDtJQVNFLG1CQUEw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QTBDQyIsImZpbGUiOiJwaGFzZXItbXZjLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGZjYjc3NWYxZjU2NzliOGQwYjA2IiwiLyoqXG4gKi9cblxuaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gJ3BoYXNlci1jZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICdAcmVhY3RpdmV4L3J4anMnO1xuXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnLi9jb250cm9sbGVyJztcbmltcG9ydCB7IElBY3Rpb25QYXJhbXMgfSBmcm9tICcuL2lfYWN0aW9uX3BhcmFtcyc7XG5pbXBvcnQgeyBJQ29udHJvbGxlck1hcCB9IGZyb20gJy4vaV9jb250cm9sbGVyX21hcCc7XG5pbXBvcnQgeyBQaHlzaWNCb2R5IH0gZnJvbSAnLi9waHlzaWNfYm9keSc7XG5pbXBvcnQgeyBHdWlkIH0gZnJvbSAnLi9ndWlkJztcblxuLyoqIEJvb3RzdHJhcCBmb3IgdGhlIHBoYXNlci1tdmMuXG4gKiBVc2VhZ2U6XG4gKiBpbXBvcnQgeyBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tICdwaGFzZXItbXZjJztcbiAqIGltcG9ydCB7IExhbmRFZGl0b3JDb250cm9sbGVyIH0gZnJvbSAncGhhc2VyLW12Yyc7XG4gKiB3aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICogY29uc3QgYm9vdCA9IG5ldyBCb290c3RyYXAoKTtcbiAqIGJvb3QuYWRkQ29udHJvbGxlcignRnJhbWVDb250cm9sbGVyJywgRnJhbWVDb250cm9sbGVyKTtcbiAqL1xuXG5leHBvcnQgY2xhc3MgQm9vdHN0cmFwIHtcbiAgcHJpdmF0ZSBzdGF0aWMgcHJlbG9hZENvbXBvbmVudHM6ICgoZ2FtZTogUGhhc2VyLkdhbWUpID0+IHZvaWQpW10gPSBbXTtcblxuICBwdWJsaWMgZ2FtZTogUGhhc2VyLkdhbWU7XG4gIHByb3RlY3RlZCBjb250cm9sbGVyczogSUNvbnRyb2xsZXJNYXAgPSB7fTtcbiAgcHJpdmF0ZSBzdGFydEFjdGlvbjogW3N0cmluZywgc3RyaW5nLCBJQWN0aW9uUGFyYW1zXTtcblxuICBwdWJsaWMgc3RhdGljIG9uSW5pdDogQXN5bmNTdWJqZWN0PEJvb3RzdHJhcD4gPSBuZXcgQXN5bmNTdWJqZWN0PEJvb3RzdHJhcD4oKTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHdpZHRoOiBudW1iZXIgPSAxOTIwLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIgPSAxMDgwKXtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgcHJlbG9hZChwcmVsb2FkOiAoZ2FtZTogUGhhc2VyLkdhbWUpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBCb290c3RyYXAucHJlbG9hZENvbXBvbmVudHMucHVzaChwcmVsb2FkKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydChjb250cm9sbGVyTmFtZTogc3RyaW5nLCBjb250cm9sbGVyQWN0aW9uOiBzdHJpbmcsIHBhcmFtczogSUFjdGlvblBhcmFtcyk6IHZvaWQge1xuICAgIHRoaXMuc3RhcnRBY3Rpb24gPSBbY29udHJvbGxlck5hbWUsIGNvbnRyb2xsZXJBY3Rpb24sIHBhcmFtc107XG4gICAgdGhpcy5nYW1lID0gbmV3IFBoYXNlci5HYW1lKFxuICAgICAgdGhpcy53aWR0aCxcbiAgICAgIHRoaXMuaGVpZ2h0LFxuICAgICAgUGhhc2VyLkNBTlZBUyxcbiAgICAgICdjb250ZW50JyxcbiAgICAgIHsgcHJlbG9hZDogdGhpcy5wcmVsb2FkLFxuICAgICAgICBjcmVhdGU6IHRoaXMuY3JlYXRlLFxuICAgICAgICB1cGRhdGU6IHRoaXMudXBkYXRlfSk7XG4gIH1cblxuICBwdWJsaWMgcHJlbG9hZCA9ICgpOiB2b2lkID0+IHtcbiAgICBmb3IgKGNvbnN0IHByZWxvYWQgb2YgQm9vdHN0cmFwLnByZWxvYWRDb21wb25lbnRzKSB7XG4gICAgICBwcmVsb2FkKHRoaXMuZ2FtZSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNyZWF0ZSA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLndvcmxkQ3VzdG9taXphdGlvbnMoKTtcblxuICAgIHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPSBQaGFzZXIuU2NhbGVNYW5hZ2VyLlNIT1dfQUxMO1xuICAgIHRoaXMuZ29Ubyh0aGlzLnN0YXJ0QWN0aW9uWzBdLCB0aGlzLnN0YXJ0QWN0aW9uWzFdLCB0aGlzLnN0YXJ0QWN0aW9uWzJdKTtcblxuICAgIEJvb3RzdHJhcC5vbkluaXQubmV4dCh0aGlzKTtcbiAgICBCb290c3RyYXAub25Jbml0LmNvbXBsZXRlKCk7XG4gIH1cblxuICBwcml2YXRlIHdvcmxkTWF0ZXJpYWw6IFBoYXNlci5QaHlzaWNzLlAyLk1hdGVyaWFsO1xuICBwdWJsaWMgc3RhdGljIHdvcmxkTWF0ZXJpYWxPcHRpb25zOiBhbnkgPSB7fTtcblxuICBwcml2YXRlIHdvcmxkQ3VzdG9taXphdGlvbnMoKXtcbiAgICB0aGlzLmdhbWUucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5QMkpTKTtcbiAgICB0aGlzLndvcmxkTWF0ZXJpYWwgPSB0aGlzLmdhbWUucGh5c2ljcy5wMi5jcmVhdGVNYXRlcmlhbCgnd29ybGRNYXRlcmlhbCcpO1xuICAgIEJvb3RzdHJhcC53b3JsZE1hdGVyaWFsT3B0aW9ucyA9IHtcbiAgICAgIHJlc3RpdHV0aW9uOiAwXG4gICAgfTtcblxuICAgIHRoaXMuZ2FtZS5waHlzaWNzLnAyLnNldFdvcmxkTWF0ZXJpYWwodGhpcy53b3JsZE1hdGVyaWFsLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICB0aGlzLmdhbWUucGh5c2ljcy5wMi5ncmF2aXR5LnkgPSAxMDA7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlQm9keShib2R5OiBQaHlzaWNCb2R5KXtcbiAgICBjb25zdCBwaHlzaWNCb2R5ID0gbmV3IFBoYXNlci5QaHlzaWNzLlAyLkJvZHkodGhpcy5nYW1lLCB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLDAsIG51bGwpLCBib2R5LngsIGJvZHkueSwgYm9keS5tYXNzKTtcbiAgICBwaHlzaWNCb2R5LnZlbG9jaXR5LnggPSBib2R5LnZlbG9jaXR5WzBdO1xuICAgIHBoeXNpY0JvZHkudmVsb2NpdHkueSA9IGJvZHkudmVsb2NpdHlbMV07XG4gICAgcGh5c2ljQm9keS5hbmdsZSA9IGJvZHkuYW5nbGU7XG5cbiAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMuZ2FtZS5waHlzaWNzLnAyLmNyZWF0ZU1hdGVyaWFsKEd1aWQubmV3R3VpZCgpLCBwaHlzaWNCb2R5KTtcbiAgICBjb25zdCBvcHRpb25zID0gYm9keS5nZXRQaHlzaWNzQ29uZmlndXJhdGlvbigpO1xuXG4gICAgdGhpcy5nZW5lcmF0ZUNvbnRhY3RzKG1hdGVyaWFsLCBvcHRpb25zLm1hdGVyaWFsKTtcbiAgICByZXR1cm4gcGh5c2ljQm9keTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVDb250YWN0cyhtYXRlcmlhbDogUGhhc2VyLlBoeXNpY3MuUDIuTWF0ZXJpYWwsIG9wdGlvbnM6IGFueSl7XG4gICAgbGV0IGNvbnRhY3RPcHRpb25zOiBhbnkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKXtcbiAgICAgIGNvbnRhY3RPcHRpb25zW2tleV0gPSBCb290c3RyYXAud29ybGRNYXRlcmlhbE9wdGlvbnNba2V5XSArIG9wdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250YWN0TWF0ZXJpYWwgPSB0aGlzLmdhbWUucGh5c2ljcy5wMi5jcmVhdGVDb250YWN0TWF0ZXJpYWwobWF0ZXJpYWwsIHRoaXMud29ybGRNYXRlcmlhbCwgY29udGFjdE9wdGlvbnMpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZSA9ICgpOiB2b2lkID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvbnRyb2xsZXJOYW1lIG9mIE9iamVjdC5rZXlzKHRoaXMuY29udHJvbGxlcnMpKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xsZXIoPENvbnRyb2xsZXI+dGhpcy5jb250cm9sbGVyc1tjb250cm9sbGVyTmFtZV0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGRDb250cm9sbGVyPFQgZXh0ZW5kcyBDb250cm9sbGVyPihuYW1lOiBzdHJpbmcsIGNvbnRyb2xsZXJUeXBlOiBuZXcgKCkgPT4gVCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNvbnRyb2xsZXJzW25hbWVdICE9IG51bGwpIHRocm93IEV2YWxFcnJvcihgQ29udHJvbGxlciAke25hbWV9IGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcblxuICAgIGNvbnN0IGNvbnRyb2xsZXI6IFQgPSBuZXcgY29udHJvbGxlclR5cGUoKTtcbiAgICBjb250cm9sbGVyLmJvb3RzdHJhcCA9IHRoaXM7XG4gICAgdGhpcy5jb250cm9sbGVyc1tuYW1lXSA9IGNvbnRyb2xsZXI7XG4gIH1cblxuICBwdWJsaWMgZ29Ubyhjb250cm9sbGVyTmFtZTogc3RyaW5nLCBjb250cm9sbGVyQWN0aW9uOiBzdHJpbmcsIHBhcmFtczogSUFjdGlvblBhcmFtcyk6IHZvaWQge1xuICAgIC8qdHNsaW50OmRpc2FibGU6bm8tYW55Ki9cbiAgICBjb25zdCBjb250cm9sbGVyOiBhbnkgPSB0aGlzLmNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXTtcbiAgICAvKnRzbGludDplbmFibGU6bm8tYW55Ki9cbiAgICBpZiAoIWNvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IEV2YWxFcnJvcihgQ29udHJvbGxlciAke2NvbnRyb2xsZXJOYW1lfSBub3QgZXhpc3QuIEJlIHN1cmUgeW91IGxvYWQgaXQgaW4gYm9vdHN0cmFwLmApO1xuICAgIH1cbiAgICAvKnRzbGludDpkaXNhYmxlOm5vLXVuc2FmZS1hbnkqL1xuICAgIGNvbnRyb2xsZXJbY29udHJvbGxlckFjdGlvbl0ocGFyYW1zKTtcbiAgICAvKnRzbGludDplbmFibGU6bm8tdW5zYWZlLWFueSovXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogQ29udHJvbGxlcik6IHZvaWQge1xuICAgIGZvciAoY29uc3Qgdmlld05hbWUgb2YgT2JqZWN0LmtleXMoY29udHJvbGxlci52aWV3cykpIHtcbiAgICAgIGNvbnRyb2xsZXIuZ2V0Vmlldyh2aWV3TmFtZSkudXBkYXRlVmlldygpO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jvb3RzdHJhcC50cyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkByZWFjdGl2ZXgvcnhqc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkByZWFjdGl2ZXgvcnhqc1wiXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IFdhdGNoTW9kZWwgfSBmcm9tICcuL3dhdGNoX21vZGVsJztcbmltcG9ydCB7IE9ic2VydmFibGUsIE9ic2VydmVyIH0gZnJvbSAnQHJlYWN0aXZleC9yeGpzJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGNsYXNzIFdhdGNoRmFjdG9yeSB7XG4gIHB1YmxpYyB3YXRjaHNNb2RlbDogV2F0Y2hNb2RlbDxhbnk+W10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZTxUPihnZXRNb2RlbDogKCkgPT4gVCk6IE9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IHdhdGNoTW9kZWwgPSBuZXcgV2F0Y2hNb2RlbDxUPigpO1xuXG4gICAgd2F0Y2hNb2RlbC5vYnNlcnZhYmxlID0gT2JzZXJ2YWJsZS5jcmVhdGUoXG4gICAgICAob2JzZXJ2ZXI6IE9ic2VydmVyPCgpID0+IFQ+KSA9PiB3YXRjaE1vZGVsLm9ic2VydmVyID0gb2JzZXJ2ZXJcbiAgICApLm1hcChcbiAgICAgIChtb2RlbDogVCkgPT4gXy5jbG9uZURlZXAobW9kZWwpXG4gICAgKS5kaXN0aW5jdFVudGlsQ2hhbmdlZChcbiAgICAgIChwcmV2OiBULCBuZXh0OiBUKSA9PiBfLmlzRXF1YWwocHJldiwgbmV4dClcbiAgICApO1xuXG4gICAgd2F0Y2hNb2RlbC5nZXRNb2RlbCA9IGdldE1vZGVsO1xuXG4gICAgdGhpcy53YXRjaHNNb2RlbC5wdXNoKHdhdGNoTW9kZWwpOyBcblxuICAgIHJldHVybiB3YXRjaE1vZGVsLm9ic2VydmFibGU7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy93YXRjaF9mYWN0b3J5LnRzIiwiZXhwb3J0IHsgQm9vdHN0cmFwIH0gZnJvbSAnLi9ib290c3RyYXAnO1xuZXhwb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcic7XG5leHBvcnQgeyBWaWV3LCBWaWV3Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3JztcbmV4cG9ydCB7IFdhdGNoRmFjdG9yeSB9IGZyb20gJy4vd2F0Y2hfZmFjdG9yeSc7XG5leHBvcnQgeyBQaHlzaWNCb2R5IH0gZnJvbSAnLi9waHlzaWNfYm9keSc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXgudHMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwaGFzZXItY2VcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJwaGFzZXItY2VcIlxuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgY2xhc3MgR3VpZCB7XG4gICAgc3RhdGljIG5ld0d1aWQoKSB7XG4gICAgICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG4gICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ndWlkLnRzIiwiaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gJ3BoYXNlci1jZSc7XG5cbmltcG9ydCB7IEJvb3RzdHJhcCB9IGZyb20gJy4vYm9vdHN0cmFwJztcbmltcG9ydCB7IElBY3Rpb25QYXJhbXMgfSBmcm9tICcuL2lfYWN0aW9uX3BhcmFtcyc7XG5pbXBvcnQgeyBJQ29udHJvbGxlck1hcCB9IGZyb20gJy4vaV9jb250cm9sbGVyX21hcCc7XG5pbXBvcnQgeyBJTW9kZWwgfSBmcm9tICcuL2lfbW9kZWwnO1xuaW1wb3J0IHsgSVZpZXdNYXAgfSBmcm9tICcuL2lfdmlld19tYXAnO1xuaW1wb3J0IHsgVmlldyB9IGZyb20gJy4vdmlldyc7XG5cbi8qKlxuICogQ29udHJvbGxlciBhY2NlcHRzIGlucHV0IGZyb20gdmlldyBhbmQgY29udmVydHMgbW9kaWZpZWRzIHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbnRyb2xsZXIge1xuICBwdWJsaWMgdmlld3M6IElWaWV3TWFwID0ge307XG4gIHB1YmxpYyBib290c3RyYXA6IEJvb3RzdHJhcDtcbiAgcHVibGljIG1vZGVsOiBJTW9kZWwgPSB7fTtcblxuICBwdWJsaWMgZ2V0IGdhbWUoKTogUGhhc2VyLkdhbWUge1xuICAgIHJldHVybiB0aGlzLmJvb3RzdHJhcC5nYW1lO1xuICB9XG5cbiAgcHVibGljIGdvVG8gPSAoY29udHJvbGxlck5hbWU6IHN0cmluZywgY29udHJvbGxlckFjdGlvbjogc3RyaW5nLCBwYXJhbXM6IElBY3Rpb25QYXJhbXMpID0+IHtcbiAgICB0aGlzLmJvb3RzdHJhcC5nb1RvKGNvbnRyb2xsZXJOYW1lLCBjb250cm9sbGVyQWN0aW9uLCBwYXJhbXMpO1xuICB9XG5cbiAgcHVibGljIGdldFZpZXcodmlld05hbWU6IHN0cmluZyk6IFZpZXcge1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdzW3ZpZXdOYW1lXTtcbiAgICBpZiAodmlldyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBFdmFsRXJyb3IoYFZpZXcgJHt2aWV3TmFtZX0gbm90IGV4aXN0LiBCZSBzdXJlIHlvdSBoYXZlIGFkZGVkIGl0IHRvIHlvdXIgY29udHJvbGxlci5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmlldztcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIodmlldzogVmlldyk6IHZvaWQge1xuICAgIHZpZXcuaW5pdCh0aGlzLmdhbWUsIHRoaXMubW9kZWwsIHRoaXMuZ29Ubyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVmcmVzaCh2aWV3OiBWaWV3KTogdm9pZCB7XG4gICAgdmlldy5yZWZyZXNoKCk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb250cm9sbGVyLnRzIiwiaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gJ3BoYXNlci1jZSc7XG5cbmltcG9ydCB7IElBY3Rpb25QYXJhbXMgfSBmcm9tICcuL2lfYWN0aW9uX3BhcmFtcyc7XG5pbXBvcnQgeyBJTW9kZWwgfSBmcm9tICcuL2lfbW9kZWwnO1xuaW1wb3J0IHsgV2F0Y2hNb2RlbCB9IGZyb20gJy4vd2F0Y2hfbW9kZWwnO1xuaW1wb3J0IHsgV2F0Y2hGYWN0b3J5IH0gZnJvbSAnLi93YXRjaF9mYWN0b3J5JztcblxuLyoqXG4gKiBBZGRzIGEgY29tcG9uZW50IHRvIHRoZSB2aWV3IGFuZCBvdGhlciB2aWV3IGNvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGNsYXNzIFZpZXdDb21wb25lbnRBZGRlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29tcG9uZW50czogVmlld0NvbXBvbmVudFtdLCBwcml2YXRlIHZpZXc6IFZpZXcpIHt9XG5cbiAgcHVibGljIGFkZENvbXBvbmVudDxUIGV4dGVuZHMgVmlld0NvbXBvbmVudD4oY29tcG9uZW50OiBUKTogVCB7XG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICBjb21wb25lbnQuY3JlYXRlQ29tcG9uZW50KHRoaXMsIHRoaXMudmlldyk7XG5cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG59XG5cbi8qKlxuICogSW5wdXQgYW5kIG91cHV0IGZvciB0aGUgYXBwbGljYXRpb25cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpZXcge1xuICBwcm90ZWN0ZWQgY29tcG9uZW50czogVmlld0NvbXBvbmVudFtdID0gW107XG4gIHByb3RlY3RlZCBpbml0aWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfZ2FtZTogUGhhc2VyLkdhbWU7XG4gIHByaXZhdGUgX21vZGVsOiBJTW9kZWw7XG4gIHByaXZhdGUgX2dvVG86IChjb250cm9sbGVyTmFtZTogc3RyaW5nLCBjb250cm9sbGVyQWN0aW9uOiBzdHJpbmcsIHBhcmFtczogSUFjdGlvblBhcmFtcykgPT4gdm9pZDtcbiAgcHJpdmF0ZSB3YXRjaEZhY3Rvcnk6IFdhdGNoRmFjdG9yeSA9IG5ldyBXYXRjaEZhY3RvcnkoKTtcblxuICBwdWJsaWMgcmVmcmVzaCgpIHtcbiAgICAvL2VtcHR5LCBjYW4gYmUgb3ZlcnJpZGVkIG9yIG5vdFxuICB9XG4gIHB1YmxpYyBjcmVhdGUoX2NvbXBvbmVudEFkZGVyOiBWaWV3Q29tcG9uZW50QWRkZXIpIHtcbiAgICAvL2VtcHR5LCBjYW4gYmUgb3ZlcnJpZGVkIG9yIG5vdFxuICB9XG4gIHB1YmxpYyBwcmVsb2FkKCkge1xuICAgIC8vZW1wdHksIGNhbiBiZSBvdmVycmlkZWQgb3Igbm90XG4gIH1cbiAgcHVibGljIHVwZGF0ZSgpIHtcbiAgICAvL2VtcHR5LCBjYW4gYmUgb3ZlcnJpZGVkIG9yIG5vdFxuICB9XG5cbiAgcHVibGljIGluaXQoZ2FtZTogUGhhc2VyLkdhbWUsIG1vZGVsOiBJTW9kZWwsIGdvVG86IChjb250cm9sbGVyTmFtZTogc3RyaW5nLCBjb250cm9sbGVyQWN0aW9uOiBzdHJpbmcsIHBhcmFtczogSUFjdGlvblBhcmFtcykgPT4gdm9pZCkge1xuICAgIGlmICghdGhpcy5pbml0aWF0ZWQpIHtcbiAgICAgIHRoaXMuX2dhbWUgPSBnYW1lO1xuICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICAgIHRoaXMuX2dvVG8gPSBnb1RvO1xuICAgICAgdGhpcy5jcmVhdGVWaWV3KCk7XG4gICAgICB0aGlzLmluaXRpYXRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGdhbWUoKTogUGhhc2VyLkdhbWUgeyByZXR1cm4gdGhpcy5fZ2FtZTsgfVxuXG4gIGdldCBtb2RlbCgpOiBJTW9kZWwgeyByZXR1cm4gdGhpcy5fbW9kZWw7IH1cblxuICBwdWJsaWMgY3JlYXRlVmlldygpIHtcbiAgICBjb25zdCBjb21wb25lbnRBZGRlciA9IG5ldyBWaWV3Q29tcG9uZW50QWRkZXIodGhpcy5jb21wb25lbnRzLCB0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZShjb21wb25lbnRBZGRlcik7XG4gICAgdGhpcy51cGRhdGVPbk1vZGVsQ2hhbmdlKHRoaXMud2F0Y2hGYWN0b3J5KTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVWaWV3KCkge1xuICAgIGlmICghdGhpcy5pbml0aWF0ZWQpIHJldHVybjtcbiAgICB0aGlzLmNoZWNrV2F0Y2hNb2RlbHMoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgY29tcG9uZW50LnVwZGF0ZUNvbXBvbmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZWZyZXNoVmlldygpIHtcbiAgICBpZiAoIXRoaXMuaW5pdGlhdGVkKSB0aHJvdyBFdmFsRXJyb3IoJ1ZpZXcgaXMgbm90IHJlbmRlcmVkIHBsZWFzZSByZW5kZXIgaXQgYmVmb3JlIHJlZnJlc2guJyk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlT25Nb2RlbENoYW5nZShfd2F0Y2hGYWN0b3J5OiBXYXRjaEZhY3Rvcnkpe1xuICAgIC8vdGhpcyBzaG91bGQgYmUgb3ZlcnJpZGVkIG9yIG5vdFxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1dhdGNoTW9kZWxzKCl7XG4gICAgZm9yKGNvbnN0IHdhdGNoTW9kZWwgb2YgdGhpcy53YXRjaEZhY3Rvcnkud2F0Y2hzTW9kZWwpe1xuICAgICAgd2F0Y2hNb2RlbC5vYnNlcnZlci5uZXh0KHdhdGNoTW9kZWwuZ2V0TW9kZWwoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdvVG8oY29udHJvbGxlck5hbWU6IHN0cmluZywgY29udHJvbGxlckFjdGlvbjogc3RyaW5nLCBwYXJhbXM6IElBY3Rpb25QYXJhbXMpOiB2b2lkIHtcbiAgICB0aGlzLl9nb1RvKGNvbnRyb2xsZXJOYW1lLCBjb250cm9sbGVyQWN0aW9uLCBwYXJhbXMpO1xuICB9XG59XG5cbi8qKlxuICogQ29tcG9uZW50IHRvIGJlIHNob3dlZCBpbiB2aWV3XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWaWV3Q29tcG9uZW50IHtcbiAgcHVibGljIHZpZXc6IFZpZXc7XG4gIHByb3RlY3RlZCBjb21wb25lbnRzOiBWaWV3Q29tcG9uZW50W10gPSBbXTtcblxuICBwdWJsaWMgY3JlYXRlKF9jb21wb25lbnRBZGRlcjogVmlld0NvbXBvbmVudEFkZGVyKTogdm9pZCB7XG4gICAgLy9lbXB0eSwgY2FuIGJlIG92ZXJyaWRlZCBvciBub3RcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgLy9lbXB0eSwgY2FuIGJlIG92ZXJyaWRlZCBvciBub3RcbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVDb21wb25lbnQoY29tcG9uZW50QWRkZXI6IFZpZXdDb21wb25lbnRBZGRlciwgdmlldzogVmlldyk6IHZvaWQge1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgdGhpcy5jcmVhdGUoY29tcG9uZW50QWRkZXIpO1xuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgY29tcG9uZW50LmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRBZGRlciwgdmlldyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHVwZGF0ZUNvbXBvbmVudCgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgY29tcG9uZW50LnVwZGF0ZUNvbXBvbmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgZ2FtZSgpOiBQaGFzZXIuR2FtZSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5nYW1lO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmlldy50cyIsImltcG9ydCB7IE9ic2VydmFibGUsIE9ic2VydmVyIH0gZnJvbSAnQHJlYWN0aXZleC9yeGpzJztcblxuZXhwb3J0IGNsYXNzIFdhdGNoTW9kZWw8VD4ge1xuICBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFQ+O1xuICBvYnNlcnZlcjogT2JzZXJ2ZXI8KCkgPT4gVD47XG4gIGdldE1vZGVsOiAoKSA9PiBUO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3dhdGNoX21vZGVsLnRzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibG9kYXNoXCJcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKi9cblxuaW1wb3J0IHsgQm9vdHN0cmFwIH0gZnJvbSAnLi9ib290c3RyYXAnO1xuaW1wb3J0IHsgQm9keVByb3BlcnR5IH0gZnJvbSAnLi9ib2R5X3Byb3BlcnR5JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBoeXNpY0JvZHkge1xuICBwcml2YXRlIGJvZHk6IFBoYXNlci5QaHlzaWNzLlAyLkJvZHk7XG5cbiAgQEJvZHlQcm9wZXJ0eVxuICBwdWJsaWMgeDogbnVtYmVyID0gMDtcblxuICBAQm9keVByb3BlcnR5XG4gIHB1YmxpYyB5OiBudW1iZXIgPSAwO1xuXG4gIEBCb2R5UHJvcGVydHlcbiAgcHVibGljIGFuZ2xlOiBudW1iZXIgPSAwO1xuXG4gIEBCb2R5UHJvcGVydHlcbiAgcHVibGljIHZlbG9jaXR5OiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdO1xuXG4gIEBCb2R5UHJvcGVydHlcbiAgcHVibGljIG1hc3M6IG51bWJlciA9IDE7XG5cbiAgcHJvdGVjdGVkIHBoeXNpY3M6IGFueSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgQm9vdHN0cmFwLm9uSW5pdC5zdWJzY3JpYmUodGhpcy5vbkJvb3RzdHJhcEluaXQuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlQm9keShib2R5OiBQaGFzZXIuUGh5c2ljcy5QMi5Cb2R5KXtcbiAgfVxuXG4gIHByb3RlY3RlZCBvbkJvb3RzdHJhcEluaXQoYm9vdHN0cmFwOiBCb290c3RyYXApe1xuICAgIHRoaXMuYm9keSA9IGJvb3RzdHJhcC5jcmVhdGVCb2R5KHRoaXMpO1xuXG4gICAgY29uc3QgcHJvcGVydHlDbGFzcyA9IDxhbnk+dGhpcztcblxuICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgcHJvcGVydHlDbGFzc1snYm9keVByb3BlcnRpZXMnXSl7XG4gICAgICBwcm9wZXJ0eUNsYXNzWydnZXQnICsgcHJvcGVydHldID0gcHJvcGVydHlDbGFzc1snZ2V0Qm9keScgKyBwcm9wZXJ0eV07XG4gICAgICBwcm9wZXJ0eUNsYXNzWydzZXQnICsgcHJvcGVydHldID0gcHJvcGVydHlDbGFzc1snc2V0Qm9keScgKyBwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgdGhpcy5jcmVhdGVCb2R5KHRoaXMuYm9keSk7XG4gIH1cblxuXG4gIHB1YmxpYyBnZXRQaHlzaWNzQ29uZmlndXJhdGlvbigpOiBhbnl7XG4gICAgcmV0dXJuIHRoaXMucGh5c2ljcztcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3BoeXNpY19ib2R5LnRzIiwiZXhwb3J0IGZ1bmN0aW9uIEJvZHlQcm9wZXJ0eSh0YXJnZXQ6IGFueSwga2V5OiBzdHJpbmcpe1xuICBpZiAoIXRhcmdldFsnYm9keVByb3BlcnRpZXMnXSkgdGFyZ2V0Wydib2R5UHJvcGVydGllcyddID0gW107XG5cbiAgY29uc3QgcHJpdmF0ZUtleSA9IFwiX1wiICsga2V5O1xuICBjb25zdCB1cHBlcktleSA9IGtleS50b1VwcGVyQ2FzZSgpO1xuICBjb25zdCBnZXRLZXkgPSBcImdldFwiICsgdXBwZXJLZXk7XG4gIGNvbnN0IHNldEtleSA9IFwic2V0XCIgKyB1cHBlcktleTtcbiAgY29uc3QgZ2V0Qm9keUtleSA9IFwiZ2V0Qm9keVwiICsgdXBwZXJLZXk7XG4gIGNvbnN0IHNldEJvZHlLZXkgPSBcInNldEJvZHlcIiArIHVwcGVyS2V5O1xuXG4gIHRhcmdldFtnZXRLZXldID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpc1twcml2YXRlS2V5XTtcbiAgfVxuXG4gIHRhcmdldFtzZXRLZXldID0gZnVuY3Rpb24odmFsdWU6IGFueSl7XG4gICAgdGhpc1twcml2YXRlS2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgdGFyZ2V0W2dldEJvZHlLZXldID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpc1snYm9keSddW2tleV07XG4gIH1cblxuICB0YXJnZXRbc2V0Qm9keUtleV0gPSBmdW5jdGlvbih2YWx1ZTogYW55KXtcbiAgICB0aGlzWydib2R5J11ba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0dGVyKCl7XG4gICAgcmV0dXJuIHRoaXNbZ2V0S2V5XSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dGVyKHZhbHVlOiBhbnkpe1xuICAgIHRoaXNbc2V0S2V5XSh2YWx1ZSk7XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRhcmdldCwga2V5LCB7XG4gICAgZ2V0OiBnZXR0ZXIsXG4gICAgc2V0OiBzZXR0ZXIsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgdGFyZ2V0Wydib2R5UHJvcGVydGllcyddLnB1c2godXBwZXJLZXkpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JvZHlfcHJvcGVydHkudHMiXSwic291cmNlUm9vdCI6IiJ9